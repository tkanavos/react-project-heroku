{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Dora\\\\Desktop\\\\react-project\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _toConsumableArray from\"C:\\\\Users\\\\Dora\\\\Desktop\\\\react-project\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:\\\\Users\\\\Dora\\\\Desktop\\\\react-project\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Dora\\\\Desktop\\\\react-project\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{BrowserRouter as Router,Switch,Route,Link}from\"react-router-dom\";import AddCountryForm from'./components/AddCountryForm';import EditCountryForm from'./components/EditCountryForm';import CountryTable from'./tables/CountryTable';import axios from'axios';import'./App.css';var App=function App(){// Data\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),countriesData=_useState2[0],setCountriesData=_useState2[1];/*[\n\t\t\t{ id: 1, name: 'Greece', capital: 'Athens' },\n\t\t\t{ id: 2, name: 'Italy', capital: 'Rome' },\n\t\t\t{ id: 3, name: 'Hungary', capital: 'Budapest' },\n\t\t\t{ id: 4, name: 'Spain', capital: 'Madrid' },\n\t\t\t{ id: 5, name: 'Germany', capital: 'Berlin' },\n\t\t\t{ id: 6, name: 'Denmark', capital: 'Copenhagen' },\n\t\t\t{ id: 7, name: 'Portugal', capital: 'Lisbon' },\n\t\t\t{ id: 8, name: 'Russia', capital: 'Moscow' },\n\t\t\t{ id: 9, name: 'France', capital: 'Paris' },\n\t\t\t{ id: 10, name: 'Norway', capital: 'Oslo' },\n\t\t]*/var initialFormState={id:null,name:'',capital:''};// Setting state\nvar _useState3=useState(countriesData),_useState4=_slicedToArray(_useState3,2),countries=_useState4[0],setCountries=_useState4[1];var _useState5=useState(initialFormState),_useState6=_slicedToArray(_useState5,2),currentCountry=_useState6[0],setCurrentCountry=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),editing=_useState8[0],setEditing=_useState8[1];// CRUD operations\nvar addCountry=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(country){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(country);country.id=countries.length+1;_context.next=4;return axios.post(\"http://localhost:3001/\",country);case 4:setCountries([].concat(_toConsumableArray(countries),[country]));case 5:case\"end\":return _context.stop();}}},_callee);}));return function addCountry(_x){return _ref.apply(this,arguments);};}();var deleteCountry=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setEditing(false);_context2.next=3;return axios.delete(\"http://localhost:3001/\".concat(id));case 3:setCountries(countries.filter(function(country){return country.id!==id;}));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteCountry(_x2){return _ref2.apply(this,arguments);};}();var updateCountry=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,updatedCountry){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setEditing(false);_context3.next=3;return axios.put(\"http://localhost:3001/\".concat(id),updatedCountry);case 3:setCountries(countries.map(function(country){return country.id===id?updatedCountry:country;}));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function updateCountry(_x3,_x4){return _ref3.apply(this,arguments);};}();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get('http://localhost:3001');case 2:_yield$axios$get=_context4.sent;data=_yield$axios$get.data;setCountriesData(data);setCountries(data);case 6:case\"end\":return _context4.stop();}}},_callee4);}))();},[]);var editRow=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(country){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setEditing(true);setCurrentCountry({id:country.id,name:country.name,capital:country.capital});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function editRow(_x5){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/about\"},\"About\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/countries\"},\"Countries\")))),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/about\"},/*#__PURE__*/React.createElement(About,null)),/*#__PURE__*/React.createElement(Route,{path:\"/countries\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{id:\"hed1\"},\"Countries App\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-large classleft\"},editing?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Edit country\"),/*#__PURE__*/React.createElement(EditCountryForm,{editing:editing,setEditing:setEditing,currentCountry:currentCountry,updateCountry:updateCountry})):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Add country\"),/*#__PURE__*/React.createElement(AddCountryForm,{addCountry:addCountry}))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-large classright\"},/*#__PURE__*/React.createElement(\"h2\",null,\"View Countries\"),/*#__PURE__*/React.createElement(CountryTable,{countries:countries,editRow:editRow,deleteCountry:deleteCountry}))))),/*#__PURE__*/React.createElement(Route,{path:\"/\"},/*#__PURE__*/React.createElement(Home,null)))));function Home(){return/*#__PURE__*/React.createElement(\"h1\",{id:\"hed2\"},\"Home\");}function About(){return/*#__PURE__*/React.createElement(\"h1\",{id:\"hed3\"},\"About\");}};export default App;","map":{"version":3,"sources":["C:/Users/Dora/Desktop/react-project/frontend/src/App.js"],"names":["React","useState","Fragment","useEffect","BrowserRouter","Router","Switch","Route","Link","AddCountryForm","EditCountryForm","CountryTable","axios","App","countriesData","setCountriesData","initialFormState","id","name","capital","countries","setCountries","currentCountry","setCurrentCountry","editing","setEditing","addCountry","country","console","log","length","post","deleteCountry","delete","filter","updateCountry","updatedCountry","put","map","get","data","editRow","Home","About"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react'\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport AddCountryForm from './components/AddCountryForm'\nimport EditCountryForm from './components/EditCountryForm'\nimport CountryTable from './tables/CountryTable';\nimport axios from 'axios';\nimport './App.css'\n\nconst App = () => {\n\n\t// Data\n\t\n\t\tconst [countriesData,setCountriesData] = useState([]);\n\n\t\t/*[\n\t\t\t{ id: 1, name: 'Greece', capital: 'Athens' },\n\t\t\t{ id: 2, name: 'Italy', capital: 'Rome' },\n\t\t\t{ id: 3, name: 'Hungary', capital: 'Budapest' },\n\t\t\t{ id: 4, name: 'Spain', capital: 'Madrid' },\n\t\t\t{ id: 5, name: 'Germany', capital: 'Berlin' },\n\t\t\t{ id: 6, name: 'Denmark', capital: 'Copenhagen' },\n\t\t\t{ id: 7, name: 'Portugal', capital: 'Lisbon' },\n\t\t\t{ id: 8, name: 'Russia', capital: 'Moscow' },\n\t\t\t{ id: 9, name: 'France', capital: 'Paris' },\n\t\t\t{ id: 10, name: 'Norway', capital: 'Oslo' },\n\t\t]*/\n\t\t\n\tconst initialFormState = { id: null, name: '', capital: '' }\n\n\t// Setting state\n\n\tconst [ countries, setCountries ] = useState(countriesData)\n\tconst [ currentCountry, setCurrentCountry ] = useState(initialFormState)\n\tconst [ editing, setEditing ] = useState(false)\n\n\t// CRUD operations\n\n\tconst addCountry = async (country) => {\n\t\tconsole.log(country);\n\t\tcountry.id = countries.length + 1\n\t\tawait axios.post(`http://localhost:3001/`,country);\n\t\tsetCountries([ ...countries, country ])\n\t}\n\t\n\tconst deleteCountry = async (id) => {\n\t\tsetEditing(false)\n\t\tawait axios.delete(`http://localhost:3001/${id}`);\n\t\tsetCountries(countries.filter(country => country.id !== id))\n\t}\n\n\tconst updateCountry = async (id, updatedCountry) => {\n\t\tsetEditing(false)\n\t\tawait axios.put(`http://localhost:3001/${id}`,updatedCountry);\n\t\tsetCountries(countries.map(country => (country.id === id ? updatedCountry : country)))\n\t}\n\n\tuseEffect(()=>{\n\t\t(async ()=>{\n\t\t\tconst {data} = await axios.get('http://localhost:3001');\n\t\t\tsetCountriesData(data);\n\t\t\tsetCountries(data)\n\t\t})();\n\t},[])\n\n\tconst editRow = async (country) => {\n\t\tsetEditing(true)\n\t\tsetCurrentCountry({ id: country.id, name: country.name, capital: country.capital })\n\t}\n\n\treturn (\n\t<Router>\n\t\t<div>\n\t\t\t<nav>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"/\">Home</Link>\n\t\t\t\t  \t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"/about\">About</Link>\n\t\t\t\t  \t</li>\n\t\t\t\t  \t<li>\n\t\t\t\t\t\t<Link to=\"/countries\">Countries</Link>\n\t\t\t\t  \t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t\t\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/about\">\n\t\t\t\t\t<About />\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/countries\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<h1 id = \"hed1\">Countries App</h1>\n\t\t\t\t\t\t<div className=\"flex-row\">\n\t\t\t\t\t\t\t<div className=\"flex-large classleft\">\n\t\t\t\t\t\t\t\t{editing ? (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<h2>Edit country</h2>\n\t\t\t\t\t\t\t\t\t<EditCountryForm\n\t\t\t\t\t\t\t\t\tediting={editing}\n\t\t\t\t\t\t\t\t\tsetEditing={setEditing}\n\t\t\t\t\t\t\t\t\tcurrentCountry={currentCountry}\n\t\t\t\t\t\t\t\t\tupdateCountry={updateCountry}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<h2>Add country</h2>\n\t\t\t\t\t\t\t\t\t<AddCountryForm addCountry={addCountry} />\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex-large classright\">\n\t\t\t\t\t\t\t\t<h2>View Countries</h2>\n\t\t\t\t\t\t\t\t<CountryTable countries={countries} editRow={editRow} deleteCountry={deleteCountry} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</div>\n\t</Router>\n\t)\n\n\tfunction Home() {\n\t\treturn <h1 id = \"hed2\">Home</h1>;\n\t  }\n\t  \n\t  function About() {\n\t\treturn <h1 id = \"hed3\">About</h1>;\n\t  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}